---
title: Black-market archives
description: Mirrors of Tor-Bitcoin black-markets & forums 2013-2015, and other material
created: 1 Dec 2013
tags: Bitcoin, Silk Road
status: in progress
belief: possible
...

contents



Other mirrors:

- DARC Australia crawls
- Princeton grad student [???]
- Nicolas Christin's CMU group [got Atlantis, anonymized SR1 data; want full SR1 data & scrapes made since]
- Digital Citizens Alliance (at least two: http://media.gractions.com/314A5A5A9ABBBBC5E3BD824CF47C46EF4B9D3A76/5f8d4168-c36a-4f78-b048-f5d48b18dc0a.pdf )
- Judith Aldridge & Hetu (September SR1) [DONE]
- Rasmus Munksgaard [DONE]
- Dolliver [unlikely to be forthcoming, and largely redundant with mine]


For redistribution:

1. check that no 'cookies.txt' is in the archive (!!!)

cd ~/blackmarket-mirrors/archive/ && for ARCHIVE in `find . -type f -name "*.tar.xz"`; do echo -n "$ARCHIVE: " && nice unxz $ARCHIVE --stdout | tar --list | fgrep --color -e 'cookies.txt' -e '/*\.onion/'; done; alert
3. check for any tarballs having accidental inclusion of 'cookies.txt' (possible security leak) or  .onion subdirectories in them which need merging (akin to #2);:

   c ~/blackmarket-mirrors/archive/ && for ARCHIVE in `find . -type f -name "*.tar.xz"`; do echo -n "$ARCHIVE: " && nice unxz $ARCHIVE --stdout | tar --list | fgrep --color -e 'cookies.txt' -e '/*\.onion/'; done; alert

Release:
/r/DNM & all market-specific subreddits, G+, Twitter, researchers' emails, Daryl Lay, Ormsby, Adrian Chen, Sudhir Venkatesh, https://www.reddit.com/r/datasets , http://ryancompton.net/about/
for seeding, ping /u/bobbiggs69 https://www.reddit.com/r/DarkNetMarkets/comments/3c53zw/call_for_dnmrelated_datasets_and_scrapes/cst3xti


# Research
## Possible Uses

Here are some suggested uses:

- providing information on vendors across markets like their PGP key and feedback ratings
- identifying arrested and flipped sellers (eg. the Weaponsguy sting)
- individual drug and category popularity
- total sales per day, with consequent turnover and commission estimates; correlates with Bitcoin or blackmarket-related search traffic, subreddit traffic, Bitcoin price or volume, etc
- seller lifetimes, ratings, over time and by product sold
- losses to black-market exit scams, or seller exit scams
- reactions to shocks like Operation Onymous
- survival analysis, and predictors of exit-scams (early finalization volume; site downtime; new vendors; etc)
- topic modeling of forums
- compilations of forum posts on lab tests estimating purity and safety
- compilations of forum-posted Bitcoin addresses to examine the effectiveness of market tumblers
- stylometric analysis of posters, particular site staff (what is staff turnover like? do any markets ever change hands?)
- deanonymization and information leaks (eg GPS coordinates in metadata, usernames reused on the clearnet, valid emails in PGP public keys)
- security practices: use of PGP, lifetime of individual keys, accidental posts of private rather than public keys, malformatted or unusable public keys, etc
- anthologies of real-world photos of particular drugs compiled from all sellers of them

## Works using this dataset

Papers:

- Andersen, R., Demant, J. & G. Branwen 2015, "Commentary on Dolliver 2015" (submitted to _International Journal of Drug Problems_)
- Décary-Hétu & Giommoni 2015, "The Tangigle Effects Of Operation Onymous: Displacement In The Dark Net Drug Markets" (manuscript)

Posts:

- ["Darknet Market [Evolution] Basket Analysis"](http://ryancompton.net/2015/03/24/darknet-market-basket-analysis/), Ryan Compton

## Citing

Please cite this resource as:

- Gwern Branwen, Nicolas Christin, David Hetu, Rasmus Munksgaard Andersen, StExo, Anonymous, Daryl Lau, Sohhlz, Delyan Kratunov, Vince Cakic, Van Buskirk, Whom, & TODO. "Dark Net Market archives, 2011-2015", TODO TODO 2015. Web. [access date] <http://www.gwern.net/Black-market%20archives>

## Donations

A dataset like this owes its existence to many parties:

- the black-markets could not exist without volunteers and nonprofits spending the money to pay for the bandwidth used by the Tor network; these scrapes collectively represent terabytes of consumed bandwidth. If you would like to donate towards keeping Tor servers running, you can [donate to Torservers.net](https://www.torservers.net/donate.html) or [the Tor Project itself](https://www.torproject.org/donate/donate.html.en)
- the [Internet Archive](!Wikipedia) hosts countless amazing resources, of which this is only one, and is a unique Internet resource; [they accept Bitcoin](https://archive.org/donate/bitcoin.php)
- collating and creating these scrapes has absorbed an enormous amount of my time & energy due to the need to solve CAPTCHAs, launch crawls on a daily or weekly basis, debug subtle glitches, work around site defenses, periodically archive scrapes to make disk space available, provide hosting for some scrapes released publicly etc (my [arbtt time-logs](http://arbtt.nomeata.de/#what) suggest >200 hours since 2013); I subsist primarily on donations, and I too accept Bitcoins: `1GWERNi49LgEb5LpvxxGFSuVYo2K3BDRdo`

# Contents

These are archives are [xz](!Wikipedia)-compressed tarballs (optimized with the [sort-key trick](/Archiving%20URLs#sort---key-compression-trick)); typically each subfolder is a single date-stamped (YYYY-MM-DD) crawl using [wget](!Wikipedia), with the default directory/file layout. Archives sourced from other people follow their own particular conventions.
(Mac & Windows users may be able to uncompress using their OS archiver, 7zip, or Stuffit.)

If you don't want to uncompress all of a particular archive, as they can be very large, you can try extracting specific files using archiver-specific options; for example, a SR2F command targeting a particular old forum thread:

~~~{.Bash}
tar --verbose --extract --xz --file='silkroad2-forums.tar.xz' --no-anchored --wildcards '*topic=49187*'
~~~

## Overall Coverage

Most of the material dates from 2013 to 2015; some archives sourced from other people (before I began crawling) may date 2011-2012.

There are TODO markets, TODO forums, representing TODO mirrors of TODO files sized TODOGB, specifically:

- TODO do two unxz/tar runs, one to extract a file list, the other to unpack all files & get a byte count

Missing or highly incomplete:

- BMR
- SR1
- Blue Sky
- TorMarket
- DeepBay
- Red Sun Marketplace
- Sanitarium Market
- EXXTACY
- Mr Nice Guy 2


## Individual archives

Some of the archives are unusual and need to be described in more detail.

### Aldridge & Hetu SR1

The September SR1 crawl is processed data stored in [SPSS](!Wikipedia) `.sav` Data Files. There are various libraries available for reading this format (in R, using the `foreign` library like `library(foreign); sellers <- read.spss("Sellers -- 2013-09-15.sav", to.data.frame=TRUE)`.)

### DNstats

[DNstats](https://dnstats.net/) is a service which periodically pings hidden services and records the response & latency, generating graphs of uptime and allowing users to see how long a market has been down and if an error is likely to be transient.
The owner has provided me with a SQL export of the ping database; this database could be useful for comparing downtime across markets, examining the effect of DoS attacks, or regressing downtime against things like the Bitcoin exchange rate (presumably if the markets still drive more than a trivial amount of the Bitcoin economy, downtime of the largest markets or market deaths should predict falls in the exchange rate).

The service is a useful one and accepts donations: `1DNstATs59JANuXjbpS5ngWHqvApAhYHBS`.

### Grams

[Grams](http://grams7enufi7jmdl.onion/) ([subreddit](https://www.reddit.com/r/grams)) is a service primarily specializing in searching market listings; they can pull listings from API exports provided by markets (Evolution, Cloud9, Middle Earth, Bungee54, Outlaw), or they may use their own custom crawls (the rest).
They have generously given me near-daily CSV exports of the current state of listings in their search engine, ranging from 2014-06-09 to TODO.
Grams coverage:

- 1776
- Abraxas
- ADM
- Agora
- Alpaca
- AlphaBay
- BlackBank
- Bungee54
- Cloud9
- Evolution
- Haven
- Middle Earth
- NK
- Outlaw
- Oxygen
- Pandora
- Silkkitie
- Silk Road 2
- TOM
- TPM

The Grams archive has three virtues:

1. while it doesn't have any raw data, the CSVs are easy to work with
2. the crawls were conducted independent of other crawls and they can be used to check each other
3. the market data sourced from the APIs can be considered close to 100% complete & accurate, which is rare

The main drawbacks are:

- the largest markets can be split across multiple CSVs (eg `EVO.csv` & `EVO2.csv`), complicating reading the data in somewhat
- the export each time is of the current listings, which means that different days can repeat the same identical crawl data if there was not a successful crawl by Grams in between

### Modafinil

As part of my interest in the stimulant [modafinil](/Modafinil), I have been monthly collecting by hand scrapes of all modafinil/armodafinil/adrafinil listings across the blackmarkets; the modafinil archive contains the saved files in MHT or MAFF format from 2013-05-28 to 2015-07-03. Sampled markets include:

- Abraxas
- Agora
- Alpaca
- AlphaBay
- Andromeda
- Black Bank
- Blue Sky
- Cloud-Nine
- Crypto/Diabolus
- Diabolus
- Dream
- East India Company
- Evolution
- Haven
- Hydra
- Middle Earth
- Nucleus
- Outlaw
- Oxygen
- Pandora
- Sheep
- SR2
- TOM

### SR2Doug

In 2015, a pseudonym claiming to be a SR2 programmer offered for sale, using the [Darkleaks](https://github.com/darkwallet/darkleaks) protocol, what he claimed was the username/password dump and SR2 source code.
The Darkleaks protocol requires providing encrypted data and then the revelation of a random fraction of it.
This archive is all the encrypted data, decryption keys, and revealed usernames I was able to collate.
(The auction did not seem to go well as the revealed data was not a compelling proof, and it's unclear whether he was the genuine article.)


# Using these scrapes & archives

Scrapes can be difficult to analyze. They are large, complicated, redundant, and highly error-prone. They cannot be taken at face-value.

No matter how much work one puts into it, one will never get an exact snapshot of a market at a particular instant: listings will go up or down as one crawls, vendors will be banned and their entire profile & listings & all feedback vanish instantly, Tor connection errors will cause a nontrivial % of page requests to fail, the site itself will go down (Agora especially), and Internet connections are imperfect. Scrapes can get bogged down in a backwater of irrelevant pages, spend all their time downloading a morass of on-demand generated pages, the user login expire or be banned by site administrators, etc. If a page is present in a scrape, then it probably existed at some point; but if a page is not present, then it may not have existed or existed but did not get downloaded for any of a myriad of reasons. At best, a scrape is a lower bound on how much was there.

So any analysis *must* take seriously the incompleteness of each crawl and the fact that there is a lot and always will be a lot of missing data, and do things like focus on what can be inferred from 'random' sampling or explicitly model incompleteness by using markets' category-count-listings. (For example, if your download of a market claims to have 1.3k items but the categories' claimed listings sum to 13k items, your download is probably highly incomplete & biased towards certain categories as well.) There are many subtle biases: for example, there will be upward biases in markets' average review ratings because sellers who turn out to be scammers will disappear from the market scrapes when they are banned, and few of their customers will go back and revise their ratings; similarly if scammers are concentrated in particular categories, then using a single snapshot will lead to biased results as the scammers have already been removed, while uncontroversial sellers last a lot longer (which might lead to, say, e-book sellers seeming to have many more sales than expected).

The contents cannot be taken at face-value either. Some vendors engage in review-stuffing using shills. Metadata like categories can be manipulated (a category labeled "Musical instruments" may contain listings for prescription drugs - beta blockers - or modafinil or Adderall may be listed in both a "Prescription drugs" and "Stimulants" category).  Many things said on forums are lies or bluffing or scams. Market operators may deliberately deceive users (Ross Ulbricht claiming to have sold SR1, the SR2 team engaging in "psyops") or conceal information (the hacks of SR1; the second SR2 hack) or attack their users (Sheep Marketplace and Pandora). Different markets have different characteristics: the commission rate on Pandora was unilaterally raised after it was hacked (causing sales volume to fall); SR2 was a notorious scammer haven due to inactive or overwhelmed staff and lacking a working escrow mechanism; etc. There is no substitute here for domain knowledge.

Knowing this, analyses should have some strategy to deal with missingness. There are a couple tacks:

- attempt to exploit "ground truths" to explicitly model and cope with varying degrees of missingness; there are a number of ground-truths available in the form of leaked seller data (screenshots & data), databases (leaked, hacked), official statements (eg the FBI's quoted numbers about Silk Road 1's total sales, number of accounts, number of transactions, etc)
- assume missing-at-random and use analyses insensitive to that, focusing on things like ratios
- work with the data as is, writing results such that the biases and lower-bounds are explicit & emphasized

# How to crawl markets

The bulk of the crawls are my own work, and were generally all created in a similar way.

My setup is a Debian testing Linux system with [Tor](!Wikipedia), [Privoxy](!Wikipedia), and [Polipo](!Wikipedia) installed. See the [Tor guides](https://www.torproject.org/docs/installguide.html.en).

1. when a new market opens, I learn of it typically from Reddit or The Hub, and browse to it in Firefox configured to proxy through `127.0.0.1:8123` (Polipo)
2. create a new account

    The username/password are not particularly important but using a [password manager](!Wikipedia) to create & store strong passwords for throwaway accounts has the advantage of making it easier to authenticate any hacks or database dumps later. (Given the poor security record of many markets, it should go without saying that you should not use your own username or any password which is used anywhere else.)
3. I locate various 'action' URLs: login, logout, 'report vendor', 'settings', 'place order', 'send message', and add the URL prefixes (sometimes they need to be regexps) into `/etc/privoxy/user.action`; Privoxy, a filtering proxy running on `127.0.0.1:8118`, will then block any attempt to download URLs which match those prefixes/regexps

    A good blacklist is critical to avoid logging oneself out and immediately ending the crawl, but it's also important to avoid triggering any on-site actions which might cause your account to be banned or prompt the operators to put in anti-crawl measures you may have a hard time working around. A blacklist is also invaluable for avoiding downloading superfluous pages like the same category page sorted 15 different ways; Tor is high latency and you cannot afford to waste a request on redundant or meaningless pages, which there can be many of. Simple Machine Forums are particularly dangerous in this regard, requiring at least 39 URLs blacklisted to get an efficient crawl, and implementing many actions as simply HTTP links that a crawler will browse (for example, if you have managed to get access to a private subforum on a SMF, you will *delete your access to it* if you simply turn a crawler like wget or [HTTrack](!Wikipedia) loose, which I learned the hard way).
4. where possible, configure the site to simplify crawling: request as many listings as possible on each page, hide clutter, disable any options which might get in the way, etc.

    Forums often default to showing 20 posts on a page, but options might let you show 100; if you set it to display as much as possible, the crawls will be faster, save disk space, *and* be more reliable because the crawl is less likely to suffer from downtime.
5. in Firefox, I export a `cookies.txt` using the FF extension [Export Cookies](https://addons.mozilla.org/En-us/firefox/addon/export-cookies/). (I also recommend [NoScript](!Wikipedia) to avoid JavaScript shenanigans, [Live HTTP Headers](https://addons.mozilla.org/En-us/firefox/addon/live-http-headers/) to assist in debugging by showing the HTTP headers and requests FF is actually sending to the market, and [User Agent Switcher](https://addons.mozilla.org/En-us/firefox/addon/user-agent-switcher/) to lock your FF into showing a consistent [TorBrowser](!Wikipedia) [user-agent](!Wikipedia))
6. with a valid cookie in the `cookies.txt` and a proper blacklist set up, mirrors can now be made with [wget](!Wikipedia), using commands like thus:

    ~~~{.Bash}
    alias today="date '+%Y-%m-%d'" # prints out current date like "2015-07-05"
    cat ~/blackmarket-mirrors/user-agent.txt
    ## Mozilla/5.0 (Windows NT 6.1; rv:31.0) Gecko/20100101 Firefox/30.0

    cd ~/blackmarket-mirrors/cryptomarket/
    fgrep --no-filename '.onion' ~/cookies.txt ~/`today`/cookies.txt > ./cookies.txt
    http_proxy="localhost:8118" wget --mirror
        --tries=5 --retry-connrefused --waitretry=1 --read-timeout=20 --timeout=15 --tries=10
        --load-cookies=cookies.txt --keep-session-cookies
        --max-redirect=1
        --referer="http://cryptomktgxdn2zd.onion"
        --user-agent="$(cat ~/blackmarket-mirrors/user-agent.txt)"
        --append-output=log.txt --server-response
        'http://cryptomktgxdn2zd.onion/category.php?id=Weed'
    mv ./cryptomktgxdn2zd.onion/ `today`
    mv log.txt ./`today`/
    rm cookies.txt
    ~~~

    To unpack the commands:

    - the `fgrep` invocation minimizes the size of the local cookies.txt and helps prevent accidental release of a full cookies.txt while packing up archives and sharing them with other people
    - wget:

        - we direct it to download only through Privoxy in order to benefit from the blacklist. Warning: wget has a blacklist option but it does *not* work, because it is implemented in a bizarre fashion where it downloads the blacklisted URL (!) and then deletes it; [this is a known >12-year-old bug in wget](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=217243). For other crawlers, this behavior should be double-checked so you don't wind up inadvertently logging yourself out of a market and downloading gigabytes of worthless front pages.
        - we throw in a number of options to encourage wget to ignore connection failures and retry; hidden servers are slow and unreliable
        - we load the cookies file with the authentication for the market, and in particular, we need `--keep-session-cookies` to keep around all cookies a market might give us, particularly the ones which change on each page load.
        - `--max-redirect=1` helps deal with a nasty market behavior where when one's cookie has expired, they then quietly redirect, without errors or warnings, all subsequent page requests to a login page. Of course, the login page should also be in the blacklist as well, but this is extra insurance and can save one round-trip's worth of time, which will add up
        - some markets seem to snoop on the "referer" part of a HTTP request specifying where you come from; putting in the market page seems to help
        - the user-agent, as mentioned, should exactly match however one logged in, as some markets record that and block accesses if the user-agent does not match exactly. Putting the current user-agent into a centralized text file helps avoid scripts getting out of date and specifying an old user-agent
    - logging of requests and particularly errors is important; `--server-response` prints out headers, and `--append-output` stores them to a log file. Most crawlers do not keep an error log around, but this is necessary to allow investigation of incompleteness and observe where errors in a crawl started (perhaps you missed blacklisting a page); for example, "Evaluating drug trafficking on the Tor Network: Silk Road 2, the sequel", Dolliver 2015, failed to log errors in their few HTTrack crawls of SR2, and so wound up with a grossly incomplete crawl which led to nonsense conclusions like 1-2% of SR2's sales were drugs. (I speculate the HTTrack crawl was stuck in the ebooks section, which was always clogged with spam, and then SR2 went down for an hour or two, leading to HTTrack's default behavior of quickly erroring out and finishing the crawl; but the lack of logging means we may never know what went wrong.)
7. once the wget crawl is done, then we name it whatever day it terminated on, we store the log inside the mirror, and clean up the probably-now-expired cookies, and perhaps check for any unusual problems.

This method will permit somewhere around 18 simultaneous crawls of different black-market sites or forums before you begin to risk Privoxy throwing errors about "too many connections".
A Privoxy bug may also lead to huge logs being stored on each request.
Between these two issues, I've found it helpful to have a daily cronjob reading `rm -rf /var/log/privoxy/*; /etc/init.d/privoxy restart` so as to keep the logfile mess under control and occasionally start a fresh Privoxy.

Crawls can be quickly checked by comparing the downloaded sizes to past downloads; markets typically do not grow or shrink more than 10% in a week, and forums' downloaded size should monotonically increase.
(Incidentally, that implies that it's more important to archive markets than forums.)
If the crawls are no longer working, one can check for problems:

- is your user-agent no longer in sync?
- does the crawl error out at a specific page?
- do the headers shown by wget match the headers you see in a regular browser using Live HTTP Headers?
- has the target URL been renamed?
- do the URLs in the blacklist match the URLs of the site, or did you log in at the right URL? (for example, a blacklist of "www.abraxas...onion" is different from "abraxas...onion"; and if you logged in at a onion with `www.` prefix, the cookie may be invalid on the prefix-free onion)
- did the server simply go down for a few hours while crawling? Then you can simply restart and merge the crawls.
- has your account been banned? If the signup process is particularly easy, it may be simplest to just register a fresh account each time.

Despite all this, not all markets can be crawled or present other difficulties:

- Blue Sky Market did something with HTTP headers which defeated all my attempts to crawl it; it rejected all my wget attempts at the first request, before anything even downloaded, but I was never able to figure out exactly how the wget HTTP headers differed in any respect from the (working) Firefox requests
- Mr Nice Guy 2 breaks the HTTP standard by returning all pages gzip-encoded, whether or not the client says it can accept gzip-encoded HTML; as it happens, wget cannot read gzip-encoded HTML and parse the page for additional URLs to download, and so mirroring breaks
- AlphaBay, during the DoS attacks of mid-2015, began doing something odd with its HTTP responses, which makes Polipo error out; one must browse AlphaBay after switching to Privoxy; Poseidon also did something similar for a time
- Middle Earth rate-limits crawls per session, limiting how much can be downloaded without investing a lot of time or in a CAPTCHA-breaking service
- Abraxas leads to peculiarly high RAM usage by wget

# Copyright

The copyright status of crawls of websites, particularly ones engaged in illegal activities, is unclear.
To the extent I hold any copyright in the contents, I release my work under the [Creative Commons](!Wikipedia) [CC0 "No Rights Reserved" license](https://creativecommons.org/about/cc0).

# Previous releases

Some of these archives have been released publicly before;

- https://www.reddit.com/r/SilkRoad/comments/36jmp2/silk_road_2_scrape_torrent_released/
- https://www.reddit.com/r/DarkNetMarkets/comments/2zps7q/evolution_forums_mirrorscrapes_torrent_released/
- https://www.reddit.com/r/DarkNetMarkets/comments/2zllmv/evolution_market_mirrorscrapes_torrent_released/

---

This archive of the Silk Road 1 forums is composed of 3 parts,
all created during October 2013 after Silk Road 1 was shut down
but before the Silk Road 1 forums went offline some months later:

1. StExo's archive, released anonymously

    This excludes the Vendor Roundtable (VRT) subforum, and is believed to be sanitized
    in various respects such as removing a number of StExo's own posts.
2. Moustache's archived pages

    Unknown source, may be based on StExo archives
3. consolidated `wget` spider

    After the SR1 bust and StExo's archiving, I began mirroring the SR1F with `wget`,
    logged in as a vendor with access to the Vendor Roundtable; unfortunately due to my inexperience
    with the forum software Simple Machines, I did not know it was possible to revoke your
    own access to subforums with `wget` and failed to blacklist the revocation URL. Hence
    the VRT was very incompletely archived. I combined my various archives into a single version.

    Simultaneously, qwertyoruiop was archiving the SR1F with a regular user account and a custom
    Node.js script. I combined his spider with my version to produce a final version with reasonable
    coverage of the forums (perhaps 3/4s of what was left after everyone began deleting & censoring
    their past posts).
